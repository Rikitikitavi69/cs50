{% extends "layout.html" %}

{% block title %}
    Index
{% endblock %}

{% block main %}
    <div class="index-table">
        <table class="hor-minimalist-a">
            <tr class="index-top">
                <th scope="col">Symbol</th>
                <th scope="col">Company</th>
                <th scope="col">Shares</th>
                <th scope="col">Current Price</th>
                <th scope="col">TOTAL</th>
            </tr>
            {% for stock in stocks %}
                <tr>
                    <td>{{ stock['stock_symbol'] }}</td>
                    <td>{{ stock['name'] }}</td>
                    <td>{{ stock['amount'] }}</td> 
                    <td>${{ stock['price'] }}</td>
                    <td>${{ stock['price'] * stock['amount'] }}</td>
                </tr>
            {% endfor %}
            <tr class="index-bottom">
                <td colspan=4>Stocks</td>
                <td>${{ stocks | sum(attribute='total') }}</td>
            </tr>
            <tr>
                <td colspan=4>Cash</td>
                <td>${{ userCash }}</td>
            </tr>
            <tr>
                <td colspan=4>Stocks + Cash</td>
                <td>${{ userCash + (stocks | sum(attribute='total')) }}</td>
            </tr>
        </table>
    </div>
{% endblock %}